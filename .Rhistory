for(i in grep(df$X3,pattern = "/Unimed_Vix/Analytics")) {
desc <- strsplit(x = df$X3[i],split = "/")
desc <- paste(desc[[1]][10],desc[[1]][11],desc[[1]][12])
desc <- str_remove(desc,"HTTP")
desc <- str_trim(desc,c("both"))
dia <- substr(x = df$X1[20],start = 2,stop = 12)
ndf <- data.frame(dia = mdy(dia), descricao = x)
df_temp <- rbind(df_temp,ndf)
}
df_temp <- data.frame()
for(i in grep(df$X3,pattern = "/Unimed_Vix/Analytics")) {
desc <- strsplit(x = df$X3[i],split = "/")
desc <- paste(desc[[1]][10],desc[[1]][11],desc[[1]][12])
desc <- str_remove(desc,"HTTP")
desc <- str_trim(desc,c("both"))
dia <- substr(x = df$X1[20],start = 2,stop = 12)
ndf <- data.frame(dia = mdy(dia), descricao = x)
df_temp <- rbind(df_temp,ndf)
}
df_temp$n <- 1
dfi <- aggregate(df_temp$n ~ df_temp$descricao,data = df_temp,FUN = sum)
names(dfi) <- c("desc","f")
dfi <- dfi[order(dfi$f,decreasing = T),]
barplot(dfi$f,names.arg = dfi$desc)
i <- 3254
desc <- strsplit(x = df$X3[i],split = "/")
l1 <- desc[[1]][10]
l2 <- desc[[1]][11]
l3 <- desc[[1]][12]
l3 <- str_remove(l3,"HTTP")
l3 <- str_trim(desc,c("both"))
l3 <- desc[[1]][12]
l3 <- str_remove(l3,"HTTP")
l3 <- str_trim(l3,c("both"))
df_temp <- data.frame()
dia <- substr(x = df$X1[20],start = 2,stop = 12)
ndf <- data.frame(dia = mdy(dia), descricao = x)
ndf <- data.frame(dia = mdy(dia), l1 = l1, l2 = l2, l3 = l3)
df_temp <- rbind(df_temp,ndf)
df_temp <- data.frame()
for(i in grep(df$X3,pattern = "/Unimed_Vix/Analytics")) {
desc <- strsplit(x = df$X3[i],split = "/")
l1 <- desc[[1]][10]
l2 <- desc[[1]][11]
l3 <- desc[[1]][12]
l3 <- str_remove(l3,"HTTP")
l3 <- str_trim(l3,c("both"))
dia <- substr(x = df$X1[20],start = 2,stop = 12)
ndf <- data.frame(dia = mdy(dia), l1 = l1, l2 = l2, l3 = l3)
df_temp <- rbind(df_temp,ndf)
}
df_temp$n <- 1
dfi <- aggregate(df_temp$n ~ df_temp$l1 + l2 + l3,data = df_temp,FUN = sum)
head(dfi)
names(dfi) <- c("l1","l2","l3","f")
head(dfi)
plot(dfi$l1,f)
plot(dfi$l1,dfi$f)
plot(dfi$l2,dfi$f)
plot(dfi$l3,dfi$f)
batplot(dfi$l3,dfi$f)
barplot(dfi$l3,dfi$f)
plot(dfi)
plot(dfi$l1,dfi$f)
names(dfi) <- c("l1","l2","l3","x")
plot(dfi$l1,dfi$x)
hist(dfi$l1mdfi$x)
hist(dfi$l1,dfi$x)
hist(dfi$x,dfi$l1)
hist(dfi$x,levels(dfi$l1))
names(dfi) <- c("l1","l2","l3","f")
dfi <- dfi[order(dfi$f,decreasing = T),]
barplot(dfi$f,names.arg = dfi$l1)
barplot(dfi$f,names.arg = dfi$l2)
barplot(dfi$f,names.arg = dfi$l3)
barplot(dfi$f,names.arg = dfi$l3,angle = 90)
barplot(dfi$f,names.arg = dfi$l3,angle = 45)
barplot(dfi$f,names.arg = dfi$l3,inside = T)
barplot(dfi$f,names.arg = dfi$l3,axisnames = T)
sdf <- subset(x = dfi,select = c("l1","f"))
sdf <- subset(x = dfi,select = c("l1","f"),subset = f > 0)
sdf <- subset(x = dfi,select = c("l1","f"),subset = f > 0)
dfi <- dfi[order(dfi$f,decreasing = T),]
barplot(dfi$f,names.arg = dfi$l3)
barplot(sdf$f,names.arg = sdf$l1)
df1 <- aggregate(df_temp$n ~ df_temp$l1,data = df_temp,FUN = sum)
df2 <- aggregate(df_temp$n ~ df_temp$l2,data = df_temp,FUN = sum)
df3 <- aggregate(df_temp$n ~ df_temp$l3,data = df_temp,FUN = sum)
names(df1) <- c("l1","l2","l3","f")
names(df2) <- c("l1","l2","l3","f")
names(df1) <- c("l1","f")
names(df2) <- c("l2","f")
names(df3) <- c("l3","f")
df1 <- df1[order(df1$f,decreasing = T),]
df2 <- df1[order(df2$f,decreasing = T),]
df3 <- df1[order(df3$f,decreasing = T),]
barplot(df1$f,names.arg = df1$l1)
barplot(df2$f,names.arg = df1$l2)
df2 <- df2[order(df2$f,decreasing = T),]
df3 <- df3[order(df3$f,decreasing = T),]
barplot(df2$f,names.arg = df1$l2)
barplot(df3$f,names.arg = df1$l3)
barplot(df2$f,names.arg = df1$l2)
barplot(df2$f,names.arg = df2$l2)
names(df2) <- c("l2","f")
names(df3) <- c("l3","f")
barplot(df1$f,names.arg = df1$l1)
barplot(df2$f,names.arg = df2$l2)
barplot(df3$f,names.arg = df3$l3)
summary(df1)
summary(df2)
summary(df3)
barplot(df1$f,names.arg = df1$l1,horiz=TRUE)
barplot(df1$f,names.arg = df1$l1,horiz=TRUE,cex.names=0.8)
barplot(df1$f,names.arg = df1$l1,horiz=TRUE,cex.names=0.3)
barplot(df1$f,names.arg = df1$l1,cex.names=0.5)
barplot(df2$f,names.arg = df2$l2,cex.names=0.5)
barplot(df3$f,names.arg = df3$l3,cex.names=0.5)
barplot(df3$f,names.arg = df3$l3,cex.names=0.5,inside = T)
barplot(df3$f,names.arg = df3$l3,cex.names=0.5,horiz = T)
barplot(df3$f,names.arg = df3$l3,cex.names=0.5,angle = 45)
library(plotly)
barplot(df1$f,names.arg = df1$l1,cex.names=0.5,las=2)
barplot(df2$f,names.arg = df2$l2,cex.names=0.5,las=2)
barplot(df1$f,names.arg = df1$l1,cex.names=0.8,las=2)
barplot(df2$f,names.arg = df2$l2,cex.names=0.8,las=2)
barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2)
barplot(df1$f,names.arg = df1$l1,cex.names=0.3,las=2)
barplot(df2$f,names.arg = df2$l2,cex.names=0.3,las=2)
barplot(df3$f,names.arg = df3$l3,cex.names=0.3,las=2)
barplot(df3$f,names.arg = df3$l3,cex.names=0.10,las=2)
barplot(df3$f,names.arg = df3$l3,cex.names=0.2,las=2)
barplot(df3$f,names.arg = df3$l3,cex.names=0.3,las=2)
barplot(df3$f,names.arg = df3$l3,cex.names=0.3,las=2)
par(mar=c(11,4,4,2))
barplot(df3$f,names.arg = df3$l3,cex.names=0.3,las=2)
barplot(df3$f,names.arg = df3$l3,cex.names=0.3,las=2,horiz = F)
l3
df3
df1 <- aggregate(df_temp$n ~ df_temp$l1,data = df_temp,FUN = sum)
df2 <- aggregate(df_temp$n ~ df_temp$l2,data = df_temp,FUN = sum)
df3 <- aggregate(df_temp$n ~ df_temp$l3,data = df_temp,FUN = sum)
names(df1) <- c("l1","f")
names(df2) <- c("l2","f")
names(df3) <- c("l3","f")
df1 <- df1[order(df1$f,decreasing = T),]
df2 <- df2[order(df2$f,decreasing = T),]
df3 <- df3[order(df3$f,decreasing = T),]
tail(df3)
df3 <- subset(x = df3,subset = f >1)
barplot(df3$f,names.arg = df3$l3,cex.names=0.3,las=2,horiz = F)
df3 <- subset(x = df3,subset = f >10)
barplot(df3$f,names.arg = df3$l3,cex.names=0.3,las=2,horiz = F)
df3 <- subset(x = df3,subset = f > max(df3$f)*.2)
barplot(df3$f,names.arg = df3$l3,cex.names=0.3,las=2,horiz = F)
df3 <- aggregate(df_temp$n ~ df_temp$l3,data = df_temp,FUN = sum)
names(df3) <- c("l3","f")
df3 <- df3[order(df3$f,decreasing = T),]
df3 <- subset(x = df3,subset = f > max(df3$f)*.1)
barplot(df3$f,names.arg = df3$l3,cex.names=0.3,las=2,horiz = F)
barplot(df3$f,names.arg = df3$l3,cex.names=0.5,las=2,horiz = F)
barplot(df3$f,names.arg = df3$l3,cex.names=0.5,las=2,horiz = F,cex.axis = 2)
barplot(df3$f,names.arg = df3$l3,cex.names=0.5,las=2,horiz = F)
barplot(df3$f,names.arg = df3$l3,cex.names=0.4,las=2,horiz = F)
barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F)
par(mar=c(11,4,4,4))
barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F)
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F)
text(my_bar, data$average+0.4 , paste("n = ",df3$f,sep="") ,cex=1)
text(mybar, data$average+0.4 , paste("n = ",df3$f,sep="") ,cex=1)
text(mybar, df3$f+0.4 , paste("n = ",df3$f,sep="") ,cex=1)
text(mybar, df3$f+0.8 , paste("n = ",df3$f,sep="") ,cex=1)
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F)
text(mybar, df3$f+0.8 , paste("n = ",df3$f,sep="") ,cex=1)
text(mybar, df3$f+0.8 , df3$f) ,cex=1)
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F)
text(mybar, df3$f+0.8 , df3$f ,cex=1)
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F)
text(mybar, df3$f+1.3 , df3$f ,cex=1)
text(mybar, df3$f , df3$f ,cex=1)
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F)
text(mybar, df3$f , df3$f ,cex=1)
text(mybar, df3$f-2 , df3$f ,cex=1)
text(mybar, df3$f , df3$f ,cex=2)
text(mybar, df3$f+.04 , df3$f ,cex=1)
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F)
text(mybar, df3$f+.04 , df3$f ,cex=1)
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F)
text(p, df3$f + 2*sign(df3$f), labels=df3$f, xpd=TRUE)
text(mybar, df3$f + 2*sign(df3$f), labels=df3$f, xpd=TRUE)
par(mar=c(11,4,4,4))
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F)
text(mybar, df3$f + 2*sign(df3$f), labels=df3$f, xpd=TRUE)
par(mar=c(11,4,4,4))
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F)
text(mybar, df3$f + 2+sign(df3$f), labels=df3$f, xpd=TRUE)
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F,beside=TRUE)
text(mybar, df3$f + 2+sign(df3$f), labels=df3$f, xpd=TRUE)
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F,beside=TRUE)
text(mybar, df3$f + sign(df3$f), labels=df3$f, xpd=TRUE)
text(mybar, pos = df3$f + sign(df3$f), labels=df3$f, xpd=TRUE)
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F,beside=TRUE)
text(mybar, pos = df3$f + sign(df3$f), labels=df3$f, xpd=TRUE)
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F,beside=TRUE)
text(df3$f + sign(df3$f), labels=df3$f, xpd=TRUE)
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F,beside=TRUE)
text(mybar, df3$f+.04 , df3$f ,cex=1)
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F,beside=TRUE)
text(mybar, df3$f-2 , df3$f ,cex=1)
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F,beside=TRUE)
text(mybar, df3$f+2 , df3$f ,cex=1)
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F,beside=TRUE)
text(df3$f + 2, labels=df3$f, xpd=TRUE)
par(mar=c(11,4,4,4))
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F,beside=TRUE)
text(df3$f + 5, labels=df3$f, xpd=TRUE)
par(mar=c(11,4,4,4))
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F,beside=TRUE)
text(df3$f * 5, labels=df3$f, xpd=TRUE)
par(mar=c(11,4,4,4))
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F,beside=TRUE)
text(df3$f * -2, labels=df3$f, xpd=TRUE)
par(mar=c(11,4,4,4))
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F,beside=TRUE)
text(df3$f -2, labels=df3$f, xpd=TRUE)
par(mar=c(11,4,4,4))
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F,beside=TRUE)
text(df3$f -5, labels=df3$f, xpd=TRUE)
par(mar=c(11,4,4,4))
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F,beside=TRUE)
text(df3$f -5, labels=df3$f, xpd=TRUE, col = "blue")
par(mar=c(11,4,4,4))
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F,beside=TRUE)
text(df3$f -5, labels=df3$f, col = "blue")
par(mar=c(11,4,4,4))
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F,beside=TRUE)
text(df3$f -5, labels=df3$f, xpd=TRUE, col = "blue")
barplot(df2$f,names.arg = df2$l2,cex.names=0.3,las=2)
df2 <- subset(x = df3,subset = f > max(df3$f)*.1)
barplot(df2$f,names.arg = df2$l2,cex.names=0.3,las=2)
df2 <- aggregate(df_temp$n ~ df_temp$l2,data = df_temp,FUN = sum)
df2 <- df2[order(df2$f,decreasing = T),]
df2 <- subset(x = df2,subset = f > max(df2$f)*.1)
barplot(df2$f,names.arg = df2$l2,cex.names=0.3,las=2)
df2 <- subset(x = df2,subset = f > max(df2$f)*.1)
df2 <- aggregate(df_temp$n ~ df_temp$l2,data = df_temp,FUN = sum)
df2 <- df2[order(df2$f,decreasing = T),]
df2 <- aggregate(df_temp$n ~ df_temp$l2,data = df_temp,FUN = sum)
df2 <- df2[order(df2$f,decreasing = T),]
names(df2) <- c("l2","f")
df2 <- df2[order(df2$f,decreasing = T),]
df2 <- subset(x = df2,subset = f > max(df2$f)*.1)
barplot(df2$f,names.arg = df2$l2,cex.names=0.3,las=2)
df2 <- aggregate(df_temp$n ~ df_temp$l2,data = df_temp,FUN = sum)
names(df2) <- c("l2","f")
df2 <- df2[order(df2$f,decreasing = T),]
df2 <- aggregate(df_temp$n ~ df_temp$l2,data = df_temp,FUN = sum)
df2 <- df2[order(df2$f,decreasing = T),]
barplot(df2$f,names.arg = df2$l2,cex.names=0.3,las=2)
df2 <- aggregate(df_temp$n ~ df_temp$l2,data = df_temp,FUN = sum)
df2 <- df2[order(df2$f,decreasing = T),]
barplot(df2$f,names.arg = df2$l2,cex.names=0.3,las=2)
names(df2) <- c("l2","f")
barplot(df2$f,names.arg = df2$l2,cex.names=0.3,las=2)
df2 <- aggregate(df_temp$n ~ df_temp$l2,data = df_temp,FUN = sum)
names(df2) <- c("l2","f")
df2 <- df2[order(df2$f,decreasing = T),]
df2 <- subset(x = df2,subset = f > max(df2$f)*.1)
barplot(df2$f,names.arg = df2$l2,cex.names=0.3,las=2)
df2 <- aggregate(df_temp$n ~ df_temp$l2,data = df_temp,FUN = sum)
names(df2) <- c("l2","f")
df2 <- df2[order(df2$f,decreasing = T),]
barplot(df2$f,names.arg = df2$l2,cex.names=0.3,las=2)
df2 <- subset(x = df2,subset = f > max(df2$f)*.07)
barplot(df2$f,names.arg = df2$l2,cex.names=0.3,las=2)
df2 <- aggregate(df_temp$n ~ df_temp$l2,data = df_temp,FUN = sum)
names(df2) <- c("l2","f")
df2 <- df2[order(df2$f,decreasing = T),]
df2 <- subset(x = df2,subset = f > max(df2$f)*.05)
barplot(df2$f,names.arg = df2$l2,cex.names=0.3,las=2)
df2 <- aggregate(df_temp$n ~ df_temp$l2,data = df_temp,FUN = sum)
df2 <- df2[order(df2$f,decreasing = T),]
df2 <- aggregate(df_temp$n ~ df_temp$l2,data = df_temp,FUN = sum)
names(df2) <- c("l2","f")
df2 <- df2[order(df2$f,decreasing = T),]
df2 <- subset(x = df2,subset = f > max(df2$f)*.05)
par(mar=c(11,4,4,4))
barplot(df2$f,names.arg = df2$l2,cex.names=0.3,las=2)
barplot(df2$f,names.arg = df2$l2,cex.names=0.5,las=2)
text(df3$f -5, labels=df3$f, xpd=TRUE, col = "blue")
df2 <- aggregate(df_temp$n ~ df_temp$l2,data = df_temp,FUN = sum)
names(df2) <- c("l2","f")
df2 <- df2[order(df2$f,decreasing = T),]
df2 <- subset(x = df2,subset = f > max(df2$f)*.05)
par(mar=c(11,4,4,4))
barplot(df2$f,names.arg = df2$l2,cex.names=0.5,las=2)
text(df2$f -5, labels=df2$f, xpd=TRUE, col = "blue")
df2 <- aggregate(df_temp$n ~ df_temp$l2,data = df_temp,FUN = sum)
names(df2) <- c("l2","f")
df2 <- df2[order(df2$f,decreasing = T),]
df2 <- subset(x = df2,subset = f > max(df2$f)*.01)
par(mar=c(11,4,4,4))
barplot(df2$f,names.arg = df2$l2,cex.names=0.5,las=2)
text(df2$f -5, labels=df2$f, xpd=TRUE, col = "blue")
i <- 3254
desc <- strsplit(x = df$X3[i],split = "/")
l1 <- desc[[1]][10]
l2 <- desc[[1]][11]
l3 <- desc[[1]][12]
l3 <- str_remove(l3,"HTTP")
l3 <- str_trim(l3,c("both"))
dia <- substr(x = df$X1[20],start = 2,stop = 12)
ifelse(dia>"01/01/2019",print("ok"),print("nook"))
dia
ifelse(dia > "01/jan/2019",print("ok"),print("nook"))
ifelse(dia < "01/jan/2019",print("ok"),print("nook"))
is.Date(dia)
ifelse(mdy(dia) > "01/jan/2019",print("ok"),print("nook"))
dia <- substr(x = df$X1[20],start = 2,stop = 12)
ifelse(mdy(dia) > "01/jan/2019",print("ok"),print("nook"))
ifelse(mdy(dia) > "01/01/2019",print("ok"),print("nook"))
mdy(dia)
ifelse(mdy(dia) > "2019/01/01",print("ok"),print("nook"))
ifelse(mdy(dia) > "2019/01/01",print("ok"),print("nook"))[1]
x <- ifelse(mdy(dia) > "2019/01/01",print("ok"),print("nook"))
x <- ifelse(mdy(dia) > "2019/01/01",1,0)
df_temp <- data.frame()
for(i in grep(df$X3,pattern = "/Unimed_Vix/Analytics")) {
desc <- strsplit(x = df$X3[i],split = "/")
l1 <- desc[[1]][10]
l2 <- desc[[1]][11]
l3 <- desc[[1]][12]
l3 <- str_remove(l3,"HTTP")
l3 <- str_trim(l3,c("both"))
dia <- substr(x = df$X1[20],start = 2,stop = 12)
ifelse(mdy(dia) > "2019/01/01",continue,next)
ndf <- data.frame(dia = mdy(dia), l1 = l1, l2 = l2, l3 = l3)
df_temp <- rbind(df_temp,ndf)
}
df_temp$n <- 1
df_temp <- data.frame()
for(i in grep(df$X3,pattern = "/Unimed_Vix/Analytics")) {
desc <- strsplit(x = df$X3[i],split = "/")
l1 <- desc[[1]][10]
l2 <- desc[[1]][11]
l3 <- desc[[1]][12]
l3 <- str_remove(l3,"HTTP")
l3 <- str_trim(l3,c("both"))
dia <- substr(x = df$X1[20],start = 2,stop = 12)
ifelse(mdy(dia) > "2019/01/01",1,next)
ndf <- data.frame(dia = mdy(dia), l1 = l1, l2 = l2, l3 = l3)
df_temp <- rbind(df_temp,ndf)
}
df_temp <- data.frame()
i <- 3254
desc <- strsplit(x = df$X3[i],split = "/")
l1 <- desc[[1]][10]
l2 <- desc[[1]][11]
l3 <- desc[[1]][12]
l3 <- str_remove(l3,"HTTP")
l3 <- str_trim(l3,c("both"))
dia <- substr(x = df$X1[20],start = 2,stop = 12)
ifelse(mdy(dia) > "2019/01/01",1,next)
ifelse(mdy(dia) > "2018/10/01",1,next)
df_temp <- data.frame()
for(i in grep(df$X3,pattern = "/Unimed_Vix/Analytics")) {
desc <- strsplit(x = df$X3[i],split = "/")
l1 <- desc[[1]][10]
l2 <- desc[[1]][11]
l3 <- desc[[1]][12]
l3 <- str_remove(l3,"HTTP")
l3 <- str_trim(l3,c("both"))
dia <- substr(x = df$X1[20],start = 2,stop = 12)
ifelse(mdy(dia) > "2018/10/01",1,next)
ndf <- data.frame(dia = mdy(dia), l1 = l1, l2 = l2, l3 = l3)
df_temp <- rbind(df_temp,ndf)
}
df_temp <- data.frame()
for(i in grep(df$X3,pattern = "/Unimed_Vix/Analytics")) {
desc <- strsplit(x = df$X3[i],split = "/")
l1 <- desc[[1]][10]
l2 <- desc[[1]][11]
l3 <- desc[[1]][12]
l3 <- str_remove(l3,"HTTP")
l3 <- str_trim(l3,c("both"))
dia <- substr(x = df$X1[20],start = 2,stop = 12)
erro <- ifelse(mdy(dia) > "2018/10/01",1,0)
if(erro==0)
next
ndf <- data.frame(dia = mdy(dia), l1 = l1, l2 = l2, l3 = l3)
df_temp <- rbind(df_temp,ndf)
}
i <- 3254
desc <- strsplit(x = df$X3[i],split = "/")
l1 <- desc[[1]][10]
l2 <- desc[[1]][11]
l3 <- desc[[1]][12]
l3 <- str_remove(l3,"HTTP")
l3 <- str_trim(l3,c("both"))
dia <- substr(x = df$X1[20],start = 2,stop = 12)
i <- 21054
desc <- strsplit(x = df$X3[i],split = "/")
l1 <- desc[[1]][10]
l2 <- desc[[1]][11]
l3 <- desc[[1]][12]
l3 <- str_remove(l3,"HTTP")
l3 <- str_trim(l3,c("both"))
dia <- substr(x = df$X1[20],start = 2,stop = 12)
i <- 16718
desc <- strsplit(x = df$X3[i],split = "/")
l1 <- desc[[1]][10]
l2 <- desc[[1]][11]
l3 <- desc[[1]][12]
l3 <- str_remove(l3,"HTTP")
l3 <- str_trim(l3,c("both"))
dia <- substr(x = df$X1[20],start = 2,stop = 12)
erro <- ifelse(mdy(dia) > "2018/10/01",1,0)
dia <- substr(x = df$X1[20],start = 2,stop = 12)
mdy(dia)
i <- 16694
desc <- strsplit(x = df$X3[i],split = "/")
l1 <- desc[[1]][10]
l2 <- desc[[1]][11]
l3 <- desc[[1]][12]
l3 <- str_remove(l3,"HTTP")
l3 <- str_trim(l3,c("both"))
dia <- substr(x = df$X1[20],start = 2,stop = 12)
df$X1[20]
desc[[1]][1]
desc[[1]][2]
desc <- strsplit(x = df$X3[i],split = "/")
l1 <- desc[[1]][10]
l2 <- desc[[1]][11]
l3 <- desc[[1]][12]
l3 <- str_remove(l3,"HTTP")
l3 <- str_trim(l3,c("both"))
df$X1[20]
df$X3
df$X3[i]
df$X1[i]
df_temp <- data.frame()
for(i in grep(df$X3,pattern = "/Unimed_Vix/Analytics")) {
desc <- strsplit(x = df$X3[i],split = "/")
l1 <- desc[[1]][10]
l2 <- desc[[1]][11]
l3 <- desc[[1]][12]
l3 <- str_remove(l3,"HTTP")
l3 <- str_trim(l3,c("both"))
dia <- substr(x = df$X1[i],start = 2,stop = 12)
erro <- ifelse(mdy(dia) > "2018/10/01",1,next)
ndf <- data.frame(dia = mdy(dia), l1 = l1, l2 = l2, l3 = l3)
df_temp <- rbind(df_temp,ndf)
}
df_temp <- data.frame()
df_temp <- data.frame()
for(i in grep(df$X3,pattern = "/Unimed_Vix/Analytics")) {
desc <- strsplit(x = df$X3[i],split = "/")
l1 <- desc[[1]][10]
l2 <- desc[[1]][11]
l3 <- desc[[1]][12]
l3 <- str_remove(l3,"HTTP")
l3 <- str_trim(l3,c("both"))
dia <- substr(x = df$X1[i],start = 2,stop = 12)
ifelse(mdy(dia) > "2019/01/01",continue,next)
ndf <- data.frame(dia = mdy(dia), l1 = l1, l2 = l2, l3 = l3)
df_temp <- rbind(df_temp,ndf)
}
df_temp <- data.frame()
for(i in grep(df$X3,pattern = "/Unimed_Vix/Analytics")) {
desc <- strsplit(x = df$X3[i],split = "/")
l1 <- desc[[1]][10]
l2 <- desc[[1]][11]
l3 <- desc[[1]][12]
l3 <- str_remove(l3,"HTTP")
l3 <- str_trim(l3,c("both"))
dia <- substr(x = df$X1[i],start = 2,stop = 12)
ifelse(mdy(dia) > "2019/01/01",1,next)
ndf <- data.frame(dia = mdy(dia), l1 = l1, l2 = l2, l3 = l3)
df_temp <- rbind(df_temp,ndf)
}
warnings()
df_temp$n <- 1
df1 <- aggregate(df_temp$n ~ df_temp$l1,data = df_temp,FUN = sum)
names(df1) <- c("l1","f")
df1 <- df1[order(df1$f,decreasing = T),]
df1 <- subset(x = df1,subset = f > max(df1$f)*.01)
par(mar=c(11,4,4,4))
barplot(df1$f,names.arg = df1$l1,cex.names=0.3,las=2)
text(df1$f -5, labels=df1$f, xpd=TRUE, col = "blue")
par(mar=c(11,4,4,4))
barplot(df1$f,names.arg = df1$l1,cex.names=0.5,las=2)
text(df1$f -5, labels=df1$f, xpd=TRUE, col = "blue")
par(mar=c(11,4,4,4))
barplot(df1$f,names.arg = df1$l1,cex.names=0.8,las=2)
text(df1$f -5, labels=df1$f, xpd=TRUE, col = "blue")
df2 <- aggregate(df_temp$n ~ df_temp$l2,data = df_temp,FUN = sum)
names(df2) <- c("l2","f")
df2 <- df2[order(df2$f,decreasing = T),]
df2 <- subset(x = df2,subset = f > max(df2$f)*.01)
par(mar=c(11,4,4,4))
barplot(df2$f,names.arg = df2$l2,cex.names=0.5,las=2)
text(df2$f -5, labels=df2$f, xpd=TRUE, col = "blue")
par(mar=c(11,4,4,4))
barplot(df2$f,names.arg = df2$l2,cex.names=0.8,las=2)
text(df2$f -5, labels=df2$f, xpd=TRUE, col = "blue")
df3 <- aggregate(df_temp$n ~ df_temp$l3,data = df_temp,FUN = sum)
names(df3) <- c("l3","f")
df3 <- df3[order(df3$f,decreasing = T),]
df3 <- subset(x = df3,subset = f > max(df3$f)*.1)
par(mar=c(11,4,4,4))
mybar <- barplot(df3$f,names.arg = df3$l3,cex.names=0.8,las=2,horiz = F,beside=TRUE)
text(df3$f -5, labels=df3$f, xpd=TRUE, col = "blue")
